
---

## ‚úÖ 2. Updated GitHub Actions Workflow (`.github/workflows/sync-leetcode.yml`)

This updated version ensures that:
- The code block is inside ` ```java ` and ` ``` `.
- The `<!-- LEETCODE-LAST-SUBMISSION:END -->` marker is **outside** the Java block.

```yaml
name: üîÅ Sync LeetCode Latest Code to Profile README

on:
  workflow_dispatch:
  schedule:
    - cron: '0 */6 * * *'  # Every 6 hours

jobs:
  sync-latest-code:
    runs-on: ubuntu-latest

    steps:
      - name: üì• Checkout Profile README Repo
        uses: actions/checkout@v3
        with:
          token: ${{ secrets.GH_TOKEN }}
          path: profile

      - name: üì• Checkout LeetCode Auto Repo
        uses: actions/checkout@v3
        with:
          repository: omvirgyan/leetcode-auto-sync
          token: ${{ secrets.GH_TOKEN }}
          path: leetcode

      - name: üõ†Ô∏è Extract and Inject Code
        run: |
          START="<!-- LEETCODE-LAST-SUBMISSION:START -->"
          END="<!-- LEETCODE-LAST-SUBMISSION:END -->"

          # Extract code block under '## ‚úÖ Submitted Code'
          sed -n '/^## ‚úÖ Submitted Code$/,/^```$/{ 
            /^## ‚úÖ Submitted Code$/d
            /^```$/d
            p
          }' leetcode/README.md > code_only.txt

          # Wrap code in ```java ... ```
          echo "\`\`\`java" > wrapped_code.txt
          cat code_only.txt >> wrapped_code.txt
          echo "\`\`\`" >> wrapped_code.txt

          # Inject it between markers in profile README
          awk -v s="$START" -v e="$END" '
            BEGIN { in_block=0 }
            {
              if ($0 ~ s) {
                print;
                while ((getline line < "wrapped_code.txt") > 0) print line;
                in_block = 1;
                next;
              }
              if ($0 ~ e) in_block = 0;
              if (!in_block) print;
            }
          ' profile/README.md > profile/README.tmp

          mv profile/README.tmp profile/README.md

      - name: üöÄ Commit and Push Changes
        working-directory: profile
        run: |
          git config user.name "github-actions"
          git config user.email "github-actions@github.com"

          git add README.md
          git commit -m "‚ú®üîÅ Synced latest LeetCode solution" || echo "No changes to commit"
          git push
